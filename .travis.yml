language: cpp

compiler:
  #- clang
  - gcc

before_install:
  # Install GYP
  - lsb_release -a
  - svn export http://gyp.googlecode.com/svn/trunk/ -r 1845 gyp
  - export PATH=$(pwd)/gyp:${PATH}

  # Install Ninja
  - wget https://github.com/martine/ninja/releases/download/v1.4.0/ninja-linux.zip
  - sudo unzip -d /usr/bin/ ninja-linux.zip
  

  # g++
  - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y

  # Install boost
  - sudo add-apt-repository ppa:boost-latest/ppa -y
  - sudo apt-get update -qq
  - sudo apt-get install libboost-filesystem1.55-dev libboost-test1.55-dev
  # sqlite3
  - sudo apt-get install libsqlite3-dev

  # g++
  - sudo apt-get install -qq g++-4.8
  - export CXX="g++-4.8" CC="gcc-4.8"

script:
  - ./build.sh
  - ./test.sh


git:
    depth: 2
